webpackJsonp([1],{"+Gxq":function(t,n,e){"use strict";var s=e("fnDg").a,i=e("VU/8")(s,null,!1,function(t){e("NXGl")},null,null);n.a=i.exports},"0YWy":function(t,n){},"5W1q":function(t,n){},"85bH":function(t,n){},"8MKs":function(t,n){},"9M+g":function(t,n){},H90C:function(t,n){},"HUt/":function(t,n,e){"use strict";var s=e("qRo1").a,i=e("VU/8")(s,null,!1,function(t){e("kNIM")},null,null);n.a=i.exports},JCpY:function(t,n,e){"use strict";var s=e("rKsW").a,i=e("VU/8")(s,null,!1,function(t){e("0YWy")},null,null);n.a=i.exports},JDVb:function(t,n,e){"use strict";var s=e("9NuQ").a,i=e("VU/8")(s,null,!1,function(t){e("jdje")},null,null);n.a=i.exports},Jmt5:function(t,n){},Kku6:function(t,n){},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e("7+uW"),i=e("Dd8w"),a=e.n(i),o=e("//Fk"),c=e.n(o),r=e("Zrlr"),l=e.n(r),u=e("wxAW"),d=e.n(u),h=e("O3w4"),p=e.n(h),v=e("r+n+"),f=e.n(v),b=new(function(){function t(){l()(this,t)}return d()(t,[{key:"connect",value:function(t,n,e,s,i){var a=this;return this.vm=t,this.useSockJS=!window.WebSocket,this.url=this.useSockJS?e:n,this.useSockJS?this.client=f.a.over(function(){return new p.a(a.url,{debug:!1})},{debug:!1}):this.client=f.a.client(this.url,{debug:!1}),this.client.reconnect_delay=5e3,new c.a(function(t,n){return a.vm.doWillConnect(a.client),a.client.connect(s,i,function(n){a.vm.doConnect(a.client),t(a.client,n)},function(t){a.vm.doError(t),n(t)}),a.client})}},{key:"disconnect",value:function(){this.client.disconnect(),this.vm.doDisconnect()}}]),t}()),m=e("NYxO"),g={name:"RabbitmqConnector",computed:Object(m.c)({client:"client",connecting:"connecting",connected:"connected",errorState:"error"}),methods:a()({connectButtonClicked:function(){b.connect(this,this.websocketUrl,this.sockJSUrl,this.username,this.password)},disconnectButtonClicked:function(){b.disconnect()}},Object(m.b)(["doConnect","doWillConnect","doDisconnect","doError"])),props:{username:String,password:String,websocketUrl:String,sockJSUrl:String},beforeDestroy:function(){this.client&&(this.client.disconnect(),this.client=null)}},_={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"rabbitmq-connector"},[this.errorState?n("b-badge",{attrs:{variant:"danger"}},[this._v(this._s(this.errorState))]):this._e(),this._v(" "),this.connecting?n("b-badge",{staticClass:"font-weight-bold",attrs:{variant:"warning"}},[this._v("Connecting ...")]):this._e(),this._v(" "),this.connected&&!this.connecting?n("b-badge",{staticClass:"font-weight-bold",attrs:{variant:"success"}},[this._v("Connected")]):n("b-badge",{staticClass:"font-weight-bold",attrs:{variant:"warning"}},[this._v("Not connected")]),this._v(" "),this.connected?n("b-button",{attrs:{size:"sm"},on:{click:this.disconnectButtonClicked}},[n("i",{staticClass:"fa fa-plug",attrs:{"aria-hidden":"true"}}),this._v(" Disconnect\n  ")]):n("b-button",{attrs:{size:"sm"},on:{click:this.connectButtonClicked}},[n("i",{staticClass:"fa fa-plug",attrs:{"aria-hidden":"true"}}),this._v(" Connect\n  ")])],1)},staticRenderFns:[]},C={components:{RabbitmqConnector:e("VU/8")(g,_,!1,function(t){e("8MKs")},"data-v-298152ba",null).exports},name:"AppHeader"},w={render:function(){var t=this.$createElement,n=this._self._c||t;return n("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"info"}},[n("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),this._v(" "),n("b-navbar-brand",{attrs:{to:{name:"Main"}}},[n("i",{staticClass:"fa fa-home",attrs:{"aria-hidden":"true",title:"Random Beans"}})]),this._v(" "),n("b-navbar-nav",[n("b-nav-item",{attrs:{to:{name:"ExchangeDirect"}}},[this._v("Direct")]),this._v(" "),n("b-nav-item",{attrs:{to:{name:"ExchangeFanout"}}},[this._v("Fanout")]),this._v(" "),n("b-nav-item",{attrs:{to:{name:"ExchangeRouting"}}},[this._v("Routing")]),this._v(" "),n("b-nav-item",{attrs:{to:{name:"ExchangeTopic"}}},[this._v("Topic")])],1),this._v(" "),n("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}}),this._v(" "),n("rabbitmq-connector",{staticClass:"rabbitmq-connector",attrs:{username:"admin",password:"admin",websocketUrl:"ws://localhost:8088/rabbitmq/ws",sockJSUrl:"http://localhost:8088/rabbitmq/stomp"}})],1)},staticRenderFns:[]},x={name:"app",components:{AppHeader:e("VU/8")(C,w,!1,function(t){e("u/LY")},"data-v-431a234c",null).exports}},B={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{attrs:{id:"app"}},[n("app-header"),this._v(" "),n("div",{staticClass:"main-content"},[n("router-view")],1)],1)},staticRenderFns:[]},y=e("VU/8")(x,B,!1,function(t){e("mjqL")},null,null).exports,S=e("/ocq"),k={},D={name:"RandomBeans",data:function(){return{randomBeans:[],lastCreatedBean:null,lastUpdatedBean:null,lastDeletedBean:null,eventsCount:0,startTime:null,lastTime:null,subscription:null}},props:{destination:String},computed:a()({eventsPerSecond:function(){return(this.eventsCount/(this.lastTime-this.startTime)*1e3).toFixed(2)}},Object(m.c)(["error","client"])),watch:{"client.connected":{immediate:!0,handler:function(t){this.updateSubscription(this.destination)}},destination:function(t){this.randomBeans=[],this.lastCreatedBean=null,this.lastUpdatedBean=null,this.lastDeletedBean=null,this.eventsCount=0,this.startTime=null,this.lastTime=null,this.updateSubscription(t)}},methods:{updateSubscription:function(t){this.client&&this.client.connected?(this.subscription&&(this.subscription.unsubscribe(),this.subscription=null),this.subscription=this.client.subscribe(t,this.messageHandler)):this.subscription=null},messageHandler:function(t){if("application/json"!==t.headers["content-type"])throw new Error("Unknown content type: "+t.headers["content-type"]);var n=JSON.parse(t.body);if(this.eventsCount++,this.lastTime=(new Date).getTime(),this.startTime||(this.startTime=this.lastTime),console.log("Event "+t.headers.type+" received for RandomBean{uuid='"+n.uuid+"'}"),"CREATED"===t.headers.type)k[n.uuid]=n,this.randomBeans.push(n),this.lastCreatedBean=n;else if("DELETED"===t.headers.type){var e=k[n.uuid],s=this.randomBeans.indexOf(e);s>-1&&(this.randomBeans.splice(s,1),this.lastDeletedBean=e,delete k[e.uuid])}else if("UPDATED"===t.headers.type){var i=k[n.uuid],a=this.randomBeans.indexOf(i);a>-1?this.randomBeans[a]=n:this.randomBeans.push(n),this.lastUpdatedBean=n,k[n.uuid]=n}}}},E={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"random-beans"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("b-card",[e("div",{staticClass:"text-info",attrs:{slot:"header"},slot:"header"},[e("div",{staticClass:"float-left"},[e("div",[e("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.destination))])]),t._v(" "),e("div",[e("span",[e("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.eventsCount))]),t._v(" messages")]),t._v(" "),isNaN(t.eventsPerSecond)?t._e():e("span",[t._v("("+t._s(t.eventsPerSecond)+"/s)")])])]),t._v(" "),e("div",{staticClass:"float-right"},[e("div",{staticClass:"text-right"},[t.subscription?e("span",[t._v("Subscribed: "+t._s(t.subscription.id))]):e("span",{staticClass:"text-danger"},[t._v("Not subscribed")])]),t._v(" "),e("div",{staticClass:"text-right"},[e("span",[t._v(t._s(t.randomBeans.length)+" element"),t.randomBeans.length>1?[t._v("s")]:t._e()],2)])])]),t._v(" "),t.lastDeletedBean?e("div",{staticClass:"row py-3"},[e("div",{staticClass:"col"},[e("b-card",{staticClass:"card-synchronized",attrs:{"no-body":""}},[e("b-card-body",{staticClass:"bg-danger py-1 px-2 text-light"},[e("span",{attrs:{title:t.lastDeletedBean.uuid}},[e("span",{staticClass:"font-weight-bold"},[t._v("[deleted]")]),t._v(" "),e("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.lastDeletedBean.title)+": ")]),t._v(" "),e("span",[t._v(t._s(t.lastDeletedBean.description))]),t._v(" "),e("span",[t._v("("+t._s(t.lastDeletedBean.random)+")")])])])],1)],1)]):t._e(),t._v(" "),e("div",{staticClass:"container-fluid px-0"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},t._l(t.randomBeans,function(n){return e("b-card",{key:n.uuid,class:{"bg-success":n===t.lastCreatedBean,"bg-warning":n===t.lastUpdatedBean},attrs:{"no-body":""}},[e("b-card-body",{staticClass:"py-1 px-2"},[e("span",{attrs:{title:n.uuid}},[e("span",{staticClass:"font-weight-bold"},[t._v(t._s(n.title)+": ")]),t._v(" "),e("span",[t._v(t._s(n.description))]),t._v(" "),e("span",[t._v("("+t._s(n.random)+")")])])])],1)}))])])])],1)])])])},staticRenderFns:[]},U=e("VU/8")(D,E,!1,function(t){e("H90C")},"data-v-4e69d2db",null).exports,R={name:"AppHeader",components:{RandomBeans:U},props:{destination:String,routingKeys:Array},computed:{effectiveDestinations:function(){var t=this;return this.routingKeys.map(function(n){return t.destination+"/"+n})}}},T={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"random-beans-routing"},this._l(this.effectiveDestinations,function(t){return n("div",{staticClass:"pb-3"},[n("random-beans",{attrs:{destination:t}})],1)}))},staticRenderFns:[]},q=e("VU/8")(R,T,!1,function(t){e("Rg1f")},"data-v-9a156b54",null).exports,W={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},N=e("VU/8")({name:"Main"},W,!1,function(t){e("85bH")},"data-v-04223220",null).exports;s.a.use(S.a);var V=new S.a({routes:[{path:"/",name:"Main",component:N},{path:"/exchange/direct",name:"ExchangeDirect",component:U,props:{destination:"/amq/queue/random-beans"}},{path:"/exchange/fanout",name:"ExchangeFanout",component:U,props:{destination:"/exchange/random-beans-fanout"}},{path:"/exchange/routing",name:"ExchangeRouting",component:q,props:{destination:"/exchange/random-beans-routing",routingKeys:["short-title","long-title"]}},{path:"/exchange/topic",name:"ExchangeTopic",component:q,props:{destination:"/exchange/event",routingKeys:["random-beans.short-title","random-beans.long-title"]}}]});s.a.use(m.a);var F=new m.a.Store({state:{client:null,connecting:!1,connected:!1,error:null},mutations:{doWillConnect:function(t,n){t.error=null,t.connecting=!0,t.connected=!1,t.client=n},doConnect:function(t,n){t.error=null,t.connecting=!1,t.connected=!0,t.client=n},doDisconnect:function(t){t.error=null,t.connecting=!1,t.connected=!1,t.client=null},doError:function(t,n){t.error||(t.error=n.body?n.body:n),t.connecting=!1,t.connected=!1,t.client=null}},getters:{client:function(t){return t.client},error:function(t){return t.error},connected:function(t){return!!t.client}}}),H=e("e6fC");e("Jmt5"),e("9M+g"),e("5W1q");s.a.use(H.a),s.a.config.productionTip=!1,new s.a({el:"#app",router:V,store:F,template:"<App/>",components:{App:y}})},NXGl:function(t,n){},Rg1f:function(t,n){},SsFf:function(t,n,e){"use strict";var s=e("xT7b").a,i=e("VU/8")(s,null,!1,function(t){e("Kku6")},null,null);n.a=i.exports},jdje:function(t,n){},kNIM:function(t,n){},mjqL:function(t,n){},r15W:function(t,n,e){"use strict";var s=e("E9Zr").a,i=e("VU/8")(s,null,!1,function(t){e("weWZ")},null,null);n.a=i.exports},"u/LY":function(t,n){},weWZ:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.48615070a83450bd01af.js.map