webpackJsonp([1],{"2Sj3":function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement;return(t._self._c||n)("div")},s=[],i={render:a,staticRenderFns:s};n.a=i},"4sGU":function(t,n,e){"use strict";var a=e("//Fk"),s=e.n(a),i=e("Zrlr"),o=e.n(i),c=e("wxAW"),r=e.n(c),u=e("O3w4"),l=e.n(u),d=e("r+n+"),v=e.n(d),p=function(){function t(){o()(this,t)}return r()(t,[{key:"connect",value:function(t,n,e,a,i){var o=this;return this.vm=t,this.useSockJS=!window.WebSocket,this.url=this.useSockJS?e:n,this.useSockJS?this.client=v.a.over(function(){return new l.a(o.url,{debug:!1})},{debug:!1}):this.client=v.a.client(this.url,{debug:!1}),this.client.reconnect_delay=5e3,new s.a(function(t,n){return o.vm.doWillConnect(o.client),o.client.connect(a,i,function(n){o.vm.doConnect(o.client),t(o.client,n)},function(t){o.vm.doError(t),n(t)}),o.client})}},{key:"disconnect",value:function(){this.client.disconnect(),this.vm.doDisconnect()}}]),t}(),h=new p;n.a=h},"5W1q":function(t,n){},"5W6V":function(t,n,e){"use strict";var a=e("Dd8w"),s=e.n(a),i=e("NYxO"),o={};n.a={name:"RandomBeans",data:function(){return{randomBeans:[],lastCreatedBean:null,lastUpdatedBean:null,lastDeletedBean:null,eventsCount:0,startTime:null,lastTime:null,subscription:null}},props:{destination:String},computed:s()({eventsPerSecond:function(){return(this.eventsCount/(this.lastTime-this.startTime)*1e3).toFixed(2)}},Object(i.c)(["error","client"])),watch:{"client.connected":{immediate:!0,handler:function(t){this.updateSubscription(this.destination)}},destination:function(t){this.randomBeans=[],this.lastCreatedBean=null,this.lastUpdatedBean=null,this.lastDeletedBean=null,this.eventsCount=0,this.startTime=null,this.lastTime=null,this.updateSubscription(t)}},methods:{updateSubscription:function(t){this.client&&this.client.connected?(this.subscription&&(this.subscription.unsubscribe(),this.subscription=null),this.subscription=this.client.subscribe(t,this.messageHandler)):this.subscription=null},messageHandler:function(t){if("application/json"!==t.headers["content-type"])throw new Error("Unknown content type: "+t.headers["content-type"]);var n=JSON.parse(t.body);if(this.eventsCount++,this.lastTime=(new Date).getTime(),this.startTime||(this.startTime=this.lastTime),console.log("Event "+t.headers.type+" received for RandomBean{uuid='"+n.uuid+"'}"),"CREATED"===t.headers.type)o[n.uuid]=n,this.randomBeans.push(n),this.lastCreatedBean=n;else if("DELETED"===t.headers.type){var e=o[n.uuid],a=this.randomBeans.indexOf(e);a>-1&&(this.randomBeans.splice(a,1),this.lastDeletedBean=e,delete o[e.uuid])}else if("UPDATED"===t.headers.type){var s=o[n.uuid],i=this.randomBeans.indexOf(s);i>-1?this.randomBeans[i]=n:this.randomBeans.push(n),this.lastUpdatedBean=n,o[n.uuid]=n}}}}},"5vkH":function(t,n,e){"use strict";function a(t){e("IZU9")}var s=e("5W6V"),i=e("hjZb"),o=e("VU/8"),c=a,r=o(s.a,i.a,!1,c,"data-v-4e69d2db",null);n.a=r.exports},"9ARy":function(t,n,e){"use strict";function a(t){e("ColC")}var s=e("U7ZY"),i=e("skkz"),o=e("VU/8"),c=a,r=o(s.a,i.a,!1,c,"data-v-9a156b54",null);n.a=r.exports},"9M+g":function(t,n){},C0aX:function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("app-header"),t._v(" "),e("div",{staticClass:"main-content"},[e("router-view")],1)],1)},s=[],i={render:a,staticRenderFns:s};n.a=i},ColC:function(t,n){},GEkf:function(t,n,e){"use strict";var a=e("fud6");n.a={components:{RabbitmqConnector:a.a},name:"AppHeader"}},IZU9:function(t,n){},Iceb:function(t,n,e){"use strict";var a=e("Dd8w"),s=e.n(a),i=e("4sGU"),o=e("NYxO");n.a={name:"RabbitmqConnector",computed:Object(o.c)({client:"client",connecting:"connecting",connected:"connected",errorState:"error"}),methods:s()({connectButtonClicked:function(){i.a.connect(this,this.websocketUrl,this.sockJSUrl,this.username,this.password)},disconnectButtonClicked:function(){i.a.disconnect()}},Object(o.b)(["doConnect","doWillConnect","doDisconnect","doError"])),props:{username:String,password:String,websocketUrl:String,sockJSUrl:String},beforeDestroy:function(){this.client&&(this.client.disconnect(),this.client=null)}}},Jmt5:function(t,n){},M93x:function(t,n,e){"use strict";function a(t){e("sXmP")}var s=e("xJD8"),i=e("C0aX"),o=e("VU/8"),c=a,r=o(s.a,i.a,!1,c,null,null);n.a=r.exports},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e("7+uW"),s=e("M93x"),i=e("YaEn"),o=e("olkN"),c=e("sCSS"),r=e("Jmt5"),u=(e.n(r),e("9M+g")),l=(e.n(u),e("5W1q"));e.n(l);a.a.use(c.a),a.a.config.productionTip=!1,new a.a({el:"#app",router:i.a,store:o.a,template:"<App/>",components:{App:s.a}})},"Sf+6":function(t,n){},U7ZY:function(t,n,e){"use strict";var a=e("5vkH");n.a={name:"AppHeader",components:{RandomBeans:a.a},props:{destination:String,routingKeys:Array},computed:{effectiveDestinations:function(){var t=this;return this.routingKeys.map(function(n){return t.destination+"/"+n})}}}},Uhku:function(t,n,e){"use strict";n.a={name:"Main"}},VJFb:function(t,n,e){"use strict";function a(t){e("Sf+6")}var s=e("GEkf"),i=e("tKuQ"),o=e("VU/8"),c=a,r=o(s.a,i.a,!1,c,"data-v-0bb37b42",null);n.a=r.exports},YaEn:function(t,n,e){"use strict";var a=e("7+uW"),s=e("/ocq"),i=e("5vkH"),o=e("9ARy"),c=e("s6+2");a.a.use(s.a),n.a=new s.a({routes:[{path:"/",name:"Main",component:c.a},{path:"/exchange/direct",name:"ExchangeDirect",component:i.a,props:{destination:"/amq/queue/random-beans"}},{path:"/exchange/fanout",name:"ExchangeFanout",component:i.a,props:{destination:"/exchange/random-beans-fanout"}},{path:"/exchange/routing",name:"ExchangeRouting",component:o.a,props:{destination:"/exchange/random-beans-routing",routingKeys:["short-title","long-title"]}},{path:"/exchange/topic",name:"ExchangeTopic",component:o.a,props:{destination:"/exchange/event",routingKeys:["random-beans.short-title","random-beans.long-title"]}}]})},fud6:function(t,n,e){"use strict";function a(t){e("u8fs")}var s=e("Iceb"),i=e("yack"),o=e("VU/8"),c=a,r=o(s.a,i.a,!1,c,"data-v-298152ba",null);n.a=r.exports},hjZb:function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"random-beans"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("b-card",[e("div",{staticClass:"text-info",attrs:{slot:"header"},slot:"header"},[e("div",{staticClass:"float-left"},[e("div",[e("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.destination))])]),t._v(" "),e("div",[e("span",[e("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.eventsCount))]),t._v(" messages")]),t._v(" "),isNaN(t.eventsPerSecond)?t._e():e("span",[t._v("("+t._s(t.eventsPerSecond)+"/s)")])])]),t._v(" "),e("div",{staticClass:"float-right"},[e("div",{staticClass:"text-right"},[t.subscription?e("span",[t._v("Subscribed: "+t._s(t.subscription.id))]):e("span",{staticClass:"text-danger"},[t._v("Not subscribed")])]),t._v(" "),e("div",{staticClass:"text-right"},[e("span",[t._v(t._s(t.randomBeans.length)+" element"),t.randomBeans.length>1?[t._v("s")]:t._e()],2)])])]),t._v(" "),t.lastDeletedBean?e("div",{staticClass:"row py-3"},[e("div",{staticClass:"col"},[e("b-card",{staticClass:"card-synchronized",attrs:{"no-body":""}},[e("b-card-body",{staticClass:"bg-danger py-1 px-2 text-light"},[e("span",{attrs:{title:t.lastDeletedBean.uuid}},[e("span",{staticClass:"font-weight-bold"},[t._v("[deleted]")]),t._v(" "),e("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.lastDeletedBean.title)+": ")]),t._v(" "),e("span",[t._v(t._s(t.lastDeletedBean.description))]),t._v(" "),e("span",[t._v("("+t._s(t.lastDeletedBean.random)+")")])])])],1)],1)]):t._e(),t._v(" "),e("div",{staticClass:"container-fluid px-0"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},t._l(t.randomBeans,function(n){return e("b-card",{key:n.uuid,class:{"bg-success":n===t.lastCreatedBean,"bg-warning":n===t.lastUpdatedBean},attrs:{"no-body":""}},[e("b-card-body",{staticClass:"py-1 px-2"},[e("span",{attrs:{title:n.uuid}},[e("span",{staticClass:"font-weight-bold"},[t._v(t._s(n.title)+": ")]),t._v(" "),e("span",[t._v(t._s(n.description))]),t._v(" "),e("span",[t._v("("+t._s(n.random)+")")])])])],1)}))])])])],1)])])])},s=[],i={render:a,staticRenderFns:s};n.a=i},olkN:function(t,n,e){"use strict";var a=e("7+uW"),s=e("NYxO");a.a.use(s.a);var i={client:null,connecting:!1,connected:!1,error:null},o={doWillConnect:function(t,n){t.error=null,t.connecting=!0,t.connected=!1,t.client=n},doConnect:function(t,n){t.error=null,t.connecting=!1,t.connected=!0,t.client=n},doDisconnect:function(t){t.error=null,t.connecting=!1,t.connected=!1,t.client=null},doError:function(t,n){t.error||(t.error=n.body?n.body:n),t.connecting=!1,t.connected=!1,t.client=null}},c={client:function(t){return t.client},error:function(t){return t.error},connected:function(t){return!!t.client}};n.a=new s.a.Store({state:i,mutations:o,getters:c})},qIGY:function(t,n){},"s6+2":function(t,n,e){"use strict";function a(t){e("qIGY")}var s=e("Uhku"),i=e("2Sj3"),o=e("VU/8"),c=a,r=o(s.a,i.a,!1,c,"data-v-04223220",null);n.a=r.exports},sXmP:function(t,n){},skkz:function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"random-beans-routing"},t._l(t.effectiveDestinations,function(t){return e("div",{staticClass:"pb-3"},[e("random-beans",{attrs:{destination:t}})],1)}))},s=[],i={render:a,staticRenderFns:s};n.a=i},tKuQ:function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"info"}},[e("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),t._v(" "),e("b-navbar-brand",{attrs:{to:{name:"Main"}}},[t._v("Notification POC")]),t._v(" "),e("b-navbar-nav",[e("b-nav-item",{attrs:{to:{name:"ExchangeDirect"}}},[t._v("Direct")]),t._v(" "),e("b-nav-item",{attrs:{to:{name:"ExchangeFanout"}}},[t._v("Fanout")]),t._v(" "),e("b-nav-item",{attrs:{to:{name:"ExchangeRouting"}}},[t._v("Routing")]),t._v(" "),e("b-nav-item",{attrs:{to:{name:"ExchangeTopic"}}},[t._v("Topic")])],1),t._v(" "),e("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}}),t._v(" "),e("rabbitmq-connector",{staticClass:"rabbitmq-connector",attrs:{username:"admin",password:"admin",websocketUrl:"ws://localhost:8088/rabbitmq/ws",sockJSUrl:"http://localhost:8088/rabbitmq/stomp"}})],1)},s=[],i={render:a,staticRenderFns:s};n.a=i},u8fs:function(t,n){},xJD8:function(t,n,e){"use strict";var a=e("VJFb");n.a={name:"app",components:{AppHeader:a.a}}},yack:function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"rabbitmq-connector"},[t.errorState?e("b-badge",{attrs:{variant:"danger"}},[t._v(t._s(t.errorState))]):t._e(),t._v(" "),t.connecting?e("b-badge",{staticClass:"font-weight-bold",attrs:{variant:"warning"}},[t._v("Connecting ...")]):t._e(),t._v(" "),t.connected&&!t.connecting?e("b-badge",{staticClass:"font-weight-bold",attrs:{variant:"success"}},[t._v("Connected")]):e("b-badge",{staticClass:"font-weight-bold",attrs:{variant:"warning"}},[t._v("Not connected")]),t._v(" "),t.connected?e("b-button",{attrs:{size:"sm"},on:{click:t.disconnectButtonClicked}},[e("i",{staticClass:"fa fa-plug",attrs:{"aria-hidden":"true"}}),t._v(" Disconnect\n  ")]):e("b-button",{attrs:{size:"sm"},on:{click:t.connectButtonClicked}},[e("i",{staticClass:"fa fa-plug",attrs:{"aria-hidden":"true"}}),t._v(" Connect\n  ")])],1)},s=[],i={render:a,staticRenderFns:s};n.a=i}},["NHnr"]);
//# sourceMappingURL=app.672ae80db21edf78ffde.js.map